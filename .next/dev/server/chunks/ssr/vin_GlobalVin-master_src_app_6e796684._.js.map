{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khaled/Downloads/vin/GlobalVin-master/src/app/redux/features/auth/authApis.ts"],"sourcesContent":["import { baseApi } from \"../../apis/baseApi\";\n\nexport const authApi = baseApi.injectEndpoints({\n  endpoints: (builder) => ({\n    login: builder.mutation({\n      query: (body) => ({\n        url: \"/auth/login\",\n        method: \"POST\",\n        body,\n      }),\n      invalidatesTags: [\"Auth\"],\n    }),\n    register: builder.mutation({\n      query: (body) => ({\n        url: \"/auth/register\",\n        method: \"POST\",\n        body,\n      }),\n      invalidatesTags: [\"Auth\"],\n    }),\n\n    profile: builder.query({\n      query: () => ({\n        url: \"/auth/me\",\n        method: \"GET\",\n      }),\n      providesTags: [\"User\"],\n    }),\n  }),\n});\n\nexport const { useRegisterMutation, useLoginMutation, useProfileQuery } = authApi;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,UAAU,+KAAO,CAAC,eAAe,CAAC;IAC7C,WAAW,CAAC,UAAY,CAAC;YACvB,OAAO,QAAQ,QAAQ,CAAC;gBACtB,OAAO,CAAC,OAAS,CAAC;wBAChB,KAAK;wBACL,QAAQ;wBACR;oBACF,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC3B;YACA,UAAU,QAAQ,QAAQ,CAAC;gBACzB,OAAO,CAAC,OAAS,CAAC;wBAChB,KAAK;wBACL,QAAQ;wBACR;oBACF,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC3B;YAEA,SAAS,QAAQ,KAAK,CAAC;gBACrB,OAAO,IAAM,CAAC;wBACZ,KAAK;wBACL,QAAQ;oBACV,CAAC;gBACD,cAAc;oBAAC;iBAAO;YACxB;QACF,CAAC;AACH;AAEO,MAAM,EAAE,mBAAmB,EAAE,gBAAgB,EAAE,eAAe,EAAE,GAAG","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khaled/Downloads/vin/GlobalVin-master/src/app/auth/login/page.tsx"],"sourcesContent":["\"use client\"\nimport React, { useState, useEffect } from 'react';\nimport { Lock, Mail, Eye, EyeOff } from 'lucide-react';\nimport Image from 'next/image';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { useLoginMutation } from '@/app/redux/features/auth/authApis';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setToken, setUser } from '@/app/redux/features/auth/authSlice';\nimport { toast } from 'sonner';\nimport { RootState } from '@/app/redux/store';\n\nconst Login = () => {\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const token = useSelector((state: RootState) => state.auth.token);\n  const [login, { isLoading, isSuccess, isError, error }] = useLoginMutation();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    rememberPassword: false\n  });\n\n  // Redirect if already logged in\n  useEffect(() => {\n    if (token) {\n      router.push('/dashboard');\n    }\n  }, [token, router]);\n\n  // Handle successful login\n\n\nconst handleSubmit = async (e: React.FormEvent) => {\n  e.preventDefault();\n  const toastId = toast.loading(\"Please wait ...\");\n\n  try {\n    const result = await login({\n      email: formData.email,\n      password: formData.password,\n    }).unwrap();\n\n    const token = result?.data?.token;\n    const user = result?.data?.user;\n\n    if (token) {\n      localStorage.setItem(\"token\", token);\n      dispatch(setToken(token));\n    }\n\n    if (user) {\n      localStorage.setItem(\"user\", JSON.stringify(user));\n      dispatch(setUser(user));\n    }\n\n    // Success - show toast and redirect\n    toast.success(result?.message || \"Login successful!\", { id: toastId, duration: 2000 });\n    router.push(\"/dashboard\");\n  } catch (err: any) {\n    console.error(\"Login failed:\", err);\n    toast.error(err?.data?.message || err?.message || \"Login failed.\", { id: toastId, duration: 3000 });\n  }\n};\n\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  return (\n    <div className=\"min-h-screen flex\">\n      {/* Left Side - Image and Text */}\n      <div className=\"hidden lg:flex lg:w-1/2 relative\">\n        <div className=\"absolute inset-0\">\n          <Image\n            src=\"/logImg.jpg\"\n            alt=\"Car background\"\n            className=\"w-full h-full object-cover\"\n            fill\n          />\n          <div className=\"absolute inset-0 bg-black/40\"></div>\n        </div>\n        \n        <div className=\"relative z-10 flex flex-col justify-center px-12 lg:px-16 text-white\">\n          <h1 className=\"text-5xl lg:text-6xl font-bold mb-4\">\n            Welcome back,<br />Admin.\n          </h1>\n          <p className=\"text-lg lg:text-xl text-gray-200 max-w-md\">\n            E Parts Admin Panel â€” your control center for managing products, monitoring performance, and ensuring smooth operations.\n          </p>\n        </div>\n      </div>\n\n      {/* Right Side - Login Form */}\n      <div className=\"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-screen lg:min-h-0\">\n        <div className=\"w-full max-w-lg\">\n          <div className=\"bg-white rounded-2xl shadow-lg p-6 sm:p-8 lg:p-10\">\n            <div className=\"text-center mb-6 sm:mb-8\">\n              <h2 className=\"text-2xl sm:text-3xl font-bold text-gray-900 mb-2\">\n                Welcome Back\n              </h2>\n              <p className=\"text-gray-600 text-sm sm:text-base\">Login to your admin account</p>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* Email Input */}\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Email\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleChange}\n                    placeholder=\"Enter your email\"\n                    className=\"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition text-base min-h-[44px]\"\n                    required\n                  />\n                  <Lock className=\"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                </div>\n              </div>\n\n              {/* Password Input */}\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Password\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type={showPassword ? 'text' : 'password'}\n                    id=\"password\"\n                    name=\"password\"\n                    value={formData.password}\n                    onChange={handleChange}\n                    placeholder=\"Enter Password\"\n                    className=\"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition text-base min-h-[44px]\"\n                    required\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n                  >\n                    {showPassword ? (\n                      <EyeOff className=\"w-5 h-5\" />\n                    ) : (\n                      <Eye className=\"w-5 h-5\" />\n                    )}\n                  </button>\n                </div>\n              </div>\n\n              {/* Remember Password & Forgot Password */}\n              <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0\">\n                <label className=\"flex items-center cursor-pointer min-h-[44px]\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"rememberPassword\"\n                    checked={formData.rememberPassword}\n                    onChange={handleChange}\n                    className=\"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500\"\n                  />\n                  <span className=\"ml-2 text-sm text-gray-700\">Remember Password</span>\n                </label>\n                <a href=\"#\" className=\"text-sm text-purple-600 hover:text-purple-700 font-medium min-h-[44px] flex items-center\">\n                  Forgot Password\n                </a>\n              </div>\n\n              {/* Login Button */}\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-md hover:shadow-lg min-h-[48px]\"\n              >\n                {isLoading ? 'Logging in...' : 'Login'}\n              </button>\n\n              {/* Sign Up Link */}\n              <p className=\"text-center text-sm text-gray-600\">\n                Don&apos;t have an account?{' '}\n                <Link href=\"/auth/register\" className=\"text-gray-900 font-semibold hover:text-purple-600\">\n                  Sign Up\n                </Link>\n              </p>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"],"names":[],"mappings":"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","debugId":null}}]
}