{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khaled/Downloads/vin/GlobalVin-master/src/app/redux/features/auth/authApis.ts"],"sourcesContent":["import { baseApi } from \"../../apis/baseApi\";\n\nexport const authApi = baseApi.injectEndpoints({\n  endpoints: (builder) => ({\n    login: builder.mutation({\n      query: (body) => ({\n        url: \"/auth/login\",\n        method: \"POST\",\n        body,\n      }),\n      invalidatesTags: [\"Auth\"],\n    }),\n    register: builder.mutation({\n      query: (body) => ({\n        url: \"/auth/register\",\n        method: \"POST\",\n        body,\n      }),\n      invalidatesTags: [\"Auth\"],\n    }),\n\n    profile: builder.query({\n      query: () => ({\n        url: \"/auth/me\",\n        method: \"GET\",\n      }),\n      providesTags: [\"User\"],\n    }),\n  }),\n});\n\nexport const { useRegisterMutation, useLoginMutation, useProfileQuery } = authApi;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,UAAU,kLAAO,CAAC,eAAe,CAAC;IAC7C,WAAW,CAAC,UAAY,CAAC;YACvB,OAAO,QAAQ,QAAQ,CAAC;gBACtB,OAAO,CAAC,OAAS,CAAC;wBAChB,KAAK;wBACL,QAAQ;wBACR;oBACF,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC3B;YACA,UAAU,QAAQ,QAAQ,CAAC;gBACzB,OAAO,CAAC,OAAS,CAAC;wBAChB,KAAK;wBACL,QAAQ;wBACR;oBACF,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC3B;YAEA,SAAS,QAAQ,KAAK,CAAC;gBACrB,OAAO,IAAM,CAAC;wBACZ,KAAK;wBACL,QAAQ;oBACV,CAAC;gBACD,cAAc;oBAAC;iBAAO;YACxB;QACF,CAAC;AACH;AAEO,MAAM,EAAE,mBAAmB,EAAE,gBAAgB,EAAE,eAAe,EAAE,GAAG","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khaled/Downloads/vin/GlobalVin-master/src/app/auth/register/page.tsx"],"sourcesContent":["\"use client\"\nimport React, { useState, useEffect } from 'react';\nimport { Lock, Mail, Eye, EyeOff, User } from 'lucide-react';\nimport Image from 'next/image';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { useRegisterMutation } from '@/app/redux/features/auth/authApis';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setToken, setUser } from '@/app/redux/features/auth/authSlice';\nimport { toast } from 'sonner';\nimport { RootState } from '@/app/redux/store';\n\nconst Register = () => {\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const token = useSelector((state: RootState) => state.auth.token);\n  const [register, { isLoading }] = useRegisterMutation();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n  });\n\n  // Redirect if already logged in\n  useEffect(() => {\n    if (token) {\n      router.push('/dashboard');\n    }\n  }, [token, router]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Validate passwords match\n    if (formData.password !== formData.confirmPassword) {\n      toast.error('Passwords do not match');\n      return;\n    }\n\n    // Validate password length\n    if (formData.password.length < 6) {\n      toast.error('Password must be at least 6 characters long');\n      return;\n    }\n\n    const toastId = toast.loading('Creating your account...');\n\n    try {\n      const result = await register({\n        name: formData.name,\n        email: formData.email,\n        password: formData.password,\n      }).unwrap();\n\n      // Store token and user data\n      if (result?.data?.token) {\n        localStorage.setItem('token', result.data.token);\n        dispatch(setToken(result.data.token));\n      }\n      if (result?.data?.user) {\n        localStorage.setItem('user', JSON.stringify(result.data.user));\n        dispatch(setUser(result.data.user));\n      }\n\n      // Success - show toast and redirect\n      toast.success(result?.message || 'Registration successful!', {\n        id: toastId,\n        duration: 2000,\n      });\n\n      // Redirect to dashboard\n      router.push('/dashboard');\n    } catch (err: any) {\n      console.error('Registration failed:', err);\n\n      const errorMessage =\n        err?.data?.message ||\n        err?.message ||\n        'Registration failed. Please try again.';\n\n      toast.error(errorMessage, { id: toastId, duration: 3000 });\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  return (\n    <div className=\"min-h-screen flex\">\n      {/* Left Side - Image and Text */}\n      <div className=\"hidden lg:flex lg:w-1/2 relative\">\n        <div className=\"absolute inset-0\">\n          <Image\n            src=\"/logImg.jpg\"\n            alt=\"Car background\"\n            className=\"w-full h-full object-cover\"\n            fill\n          />\n          <div className=\"absolute inset-0 bg-black/40\"></div>\n        </div>\n\n        <div className=\"relative z-10 flex flex-col justify-center px-12 lg:px-16 text-white\">\n          <h1 className=\"text-5xl lg:text-6xl font-bold mb-4\">\n            Join us,<br />Admin.\n          </h1>\n          <p className=\"text-lg lg:text-xl text-gray-200 max-w-md\">\n            Create your admin account to access the control center for managing products, monitoring performance, and ensuring smooth operations.\n          </p>\n        </div>\n      </div>\n\n      {/* Right Side - Register Form */}\n      <div className=\"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-screen lg:min-h-0\">\n        <div className=\"w-full max-w-lg\">\n          <div className=\"bg-white rounded-2xl shadow-lg p-6 sm:p-8 lg:p-10\">\n            <div className=\"text-center mb-6 sm:mb-8\">\n              <h2 className=\"text-2xl sm:text-3xl font-bold text-gray-900 mb-2\">\n                Create Account\n              </h2>\n              <p className=\"text-gray-600 text-sm sm:text-base\">Sign up for your admin account</p>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* Name Input */}\n              <div>\n                <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Full Name\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type=\"text\"\n                    id=\"name\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleChange}\n                    placeholder=\"Enter your full name\"\n                    className=\"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition text-base min-h-[44px]\"\n                    required\n                  />\n                  <User className=\"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                </div>\n              </div>\n\n              {/* Email Input */}\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Email\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleChange}\n                    placeholder=\"Enter your email\"\n                    className=\"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition text-base min-h-[44px]\"\n                    required\n                  />\n                  <Mail className=\"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                </div>\n              </div>\n\n              {/* Password Input */}\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Password\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type={showPassword ? 'text' : 'password'}\n                    id=\"password\"\n                    name=\"password\"\n                    value={formData.password}\n                    onChange={handleChange}\n                    placeholder=\"Enter Password\"\n                    className=\"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition text-base min-h-[44px]\"\n                    required\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 min-w-[44px] min-h-[44px] flex items-center justify-center -mr-2\"\n                  >\n                    {showPassword ? (\n                      <EyeOff className=\"w-5 h-5\" />\n                    ) : (\n                      <Eye className=\"w-5 h-5\" />\n                    )}\n                  </button>\n                </div>\n              </div>\n\n              {/* Confirm Password Input */}\n              <div>\n                <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Confirm Password\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type={showConfirmPassword ? 'text' : 'password'}\n                    id=\"confirmPassword\"\n                    name=\"confirmPassword\"\n                    value={formData.confirmPassword}\n                    onChange={handleChange}\n                    placeholder=\"Confirm Password\"\n                    className=\"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition text-base min-h-[44px]\"\n                    required\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 min-w-[44px] min-h-[44px] flex items-center justify-center -mr-2\"\n                  >\n                    {showConfirmPassword ? (\n                      <EyeOff className=\"w-5 h-5\" />\n                    ) : (\n                      <Eye className=\"w-5 h-5\" />\n                    )}\n                  </button>\n                </div>\n              </div>\n\n              {/* Register Button */}\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition duration-200 shadow-md hover:shadow-lg min-h-[48px]\"\n              >\n                {isLoading ? 'Creating Account...' : 'Create Account'}\n              </button>\n\n              {/* Login Link */}\n              <p className=\"text-center text-sm text-gray-600\">\n                Already have an account?{' '}\n                <Link href=\"/auth/login\" className=\"text-gray-900 font-semibold hover:text-purple-600\">\n                  Login\n                </Link>\n              </p>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"names":[],"mappings":"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","debugId":null}}]
}