(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82896,e=>{"use strict";var r=e.i(44345);let t=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},a=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:l="",children:o,iconNode:d,...c},u)=>(0,r.createElement)("svg",{ref:u,...s,width:t,height:t,stroke:e,strokeWidth:n?24*Number(i)/Number(t):i,className:a("lucide",l),...!o&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(o)?o:[o]])),n=(e,s)=>{let n=(0,r.forwardRef)(({className:n,...l},o)=>(0,r.createElement)(i,{ref:o,iconNode:s,className:a(`lucide-${t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...l}));return n.displayName=t(e),n};e.s(["default",()=>n],82896)},61247,e=>{"use strict";var r=e.i(44345);function t(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}var a=e.i(845),s=Symbol.for("react.lazy"),i=r[" use ".trim().toString()];function n(e){var r;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===s&&"_payload"in e&&"object"==typeof(r=e._payload)&&null!==r&&"then"in r}function l(e){var s;let l,o=(s=e,(l=r.forwardRef((e,a)=>{let{children:s,...l}=e;if(n(s)&&"function"==typeof i&&(s=i(s._payload)),r.isValidElement(s)){var o;let e,i,n=(o=s,(i=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(i=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),d=function(e,r){let t={...r};for(let a in r){let s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?t[a]=(...e)=>{let r=i(...e);return s(...e),r}:s&&(t[a]=s):"style"===a?t[a]={...s,...i}:"className"===a&&(t[a]=[s,i].filter(Boolean).join(" "))}return{...e,...t}}(l,s.props);return s.type!==r.Fragment&&(d.ref=a?function(...e){return r=>{let a=!1,s=e.map(e=>{let s=t(e,r);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let r=0;r<s.length;r++){let a=s[r];"function"==typeof a?a():t(e[r],null)}}}}(a,n):n),r.cloneElement(s,d)}return r.Children.count(s)>1?r.Children.only(null):null})).displayName=`${s}.SlotClone`,l),d=r.forwardRef((e,t)=>{let{children:s,...l}=e;n(s)&&"function"==typeof i&&(s=i(s._payload));let d=r.Children.toArray(s),u=d.find(c);if(u){let e=u.props.children,s=d.map(t=>t!==u?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,a.jsx)(o,{...l,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,a.jsx)(o,{...l,ref:t,children:s})});return d.displayName=`${e}.Slot`,d}var o=l("Slot"),d=Symbol("radix.slottable");function c(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}e.s(["Slot",()=>o,"createSlot",()=>l],61247)},49452,e=>{"use strict";let r=(0,e.i(82896).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>r],49452)},73407,e=>{"use strict";let r=(0,e.i(82896).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>r],73407)},71162,(e,r,t)=>{"use strict";var a=e.r(44345),s="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},i=a.useState,n=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function d(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!s(e,t)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var t=r(),a=i({inst:{value:t,getSnapshot:r}}),s=a[0].inst,c=a[1];return l(function(){s.value=t,s.getSnapshot=r,d(s)&&c({inst:s})},[e,t,r]),n(function(){return d(s)&&c({inst:s}),e(function(){d(s)&&c({inst:s})})},[e]),o(t),t};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:c},82657,(e,r,t)=>{"use strict";r.exports=e.r(71162)},60444,e=>{"use strict";let{useRegisterMutation:r,useLoginMutation:t,useProfileQuery:a}=e.i(79388).baseApi.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"/auth/login",method:"POST",body:e}),invalidatesTags:["Auth"]}),register:e.mutation({query:e=>({url:"/auth/register",method:"POST",body:e}),invalidatesTags:["Auth"]}),profile:e.query({query:()=>({url:"/auth/me",method:"GET"}),providesTags:["User"]})})});e.s(["useLoginMutation",0,t,"useProfileQuery",0,a,"useRegisterMutation",0,r])},49561,e=>{"use strict";let r=(0,e.i(82896).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>r],49561)},29840,e=>{"use strict";let r=(0,e.i(82896).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>r],29840)},18076,e=>{"use strict";let r=(0,e.i(82896).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);e.s(["Building2",()=>r],18076)},50754,e=>{"use strict";let r=(0,e.i(82896).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>r],50754)},65754,e=>{"use strict";let r=(0,e.i(82896).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>r],65754)},21669,e=>{"use strict";let r=(0,e.i(82896).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>r],21669)},27902,e=>{"use strict";var r,t,a=e.i(845),s=e.i(82896);let i=(0,s.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),n=(0,s.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),l=(0,s.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var o=e.i(49561),d=e.i(44345),c=globalThis?.document?d.useLayoutEffect:()=>{};e.i(72599);var u=e.i(61247),h=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,u.createSlot)(`Primitive.${r}`),s=d.forwardRef((e,s)=>{let{asChild:i,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i?t:r,{...n,ref:s})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),f=e.i(82657);function p(){return()=>{}}var m="Avatar",[g,x]=function(e,r=[]){let t=[],s=()=>{let r=t.map(e=>d.createContext(e));return function(t){let a=t?.[e]||r;return d.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return s.scopeName=e,[function(r,s){let i=d.createContext(s);i.displayName=r+"Context";let n=t.length;t=[...t,s];let l=r=>{let{scope:t,children:s,...l}=r,o=t?.[e]?.[n]||i,c=d.useMemo(()=>l,Object.values(l));return(0,a.jsx)(o.Provider,{value:c,children:s})};return l.displayName=r+"Provider",[l,function(t,a){let l=a?.[e]?.[n]||i,o=d.useContext(l);if(o)return o;if(void 0!==s)return s;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((r,{useScope:t,scopeName:a})=>{let s=t(e)[`__scope${a}`];return{...r,...s}},{});return d.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}(s,...r)]}(m),[y,b]=g(m),v=d.forwardRef((e,r)=>{let{__scopeAvatar:t,...s}=e,[i,n]=d.useState("idle");return(0,a.jsx)(y,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:(0,a.jsx)(h.span,{...s,ref:r})})});v.displayName=m;var _="AvatarImage",N=d.forwardRef((e,r)=>{var t;let s,{__scopeAvatar:i,src:n,onLoadingStatusChange:l=()=>{},...o}=e,u=b(_,i),m=function(e,{referrerPolicy:r,crossOrigin:t}){let a=(0,f.useSyncExternalStore)(p,()=>!0,()=>!1),s=d.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[n,l]=d.useState(()=>S(i,e));return c(()=>{l(S(i,e))},[i,e]),c(()=>{let e=e=>()=>{l(e)};if(!i)return;let a=e("loaded"),s=e("error");return i.addEventListener("load",a),i.addEventListener("error",s),r&&(i.referrerPolicy=r),"string"==typeof t&&(i.crossOrigin=t),()=>{i.removeEventListener("load",a),i.removeEventListener("error",s)}},[i,t,r]),n}(n,o),g=(t=e=>{l(e),u.onImageLoadingStatusChange(e)},s=d.useRef(t),d.useEffect(()=>{s.current=t}),d.useMemo(()=>(...e)=>s.current?.(...e),[]));return c(()=>{"idle"!==m&&g(m)},[m,g]),"loaded"===m?(0,a.jsx)(h.img,{...o,ref:r,src:n}):null});N.displayName=_;var A="AvatarFallback",E=d.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:s,...i}=e,n=b(A,t),[l,o]=d.useState(void 0===s);return d.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>o(!0),s);return()=>window.clearTimeout(e)}},[s]),l&&"loaded"!==n.imageLoadingStatus?(0,a.jsx)(h.span,{...i,ref:r}):null});function S(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}E.displayName=A;var I=e.i(62224);function j({className:e,...r}){return(0,a.jsx)(v,{"data-slot":"avatar",className:(0,I.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function w({className:e,...r}){return(0,a.jsx)(N,{"data-slot":"avatar-image",className:(0,I.cn)("aspect-square size-full",e),...r})}function R({className:e,...r}){return(0,a.jsx)(E,{"data-slot":"avatar-fallback",className:(0,I.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}var k=e.i(60714),C=e.i(60444),L=e.i(842),M=e.i(59514),P=e.i(32193);function T(){let[e,r]=(0,d.useState)(!1),t=(0,k.useRouter)(),s=(0,L.useDispatch)(),{impersonating:c}=(0,L.useSelector)(e=>e.auth),{data:u,isLoading:h,error:f}=(0,C.useProfileQuery)(void 0);console.log(u),console.log(f);let p=u?.data?.user||null;return(0,a.jsxs)("header",{className:"bg-card border-b border-border px-6 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[c&&(0,a.jsxs)("div",{className:"bg-orange-100 border border-orange-300 text-orange-800 px-4 py-2 rounded-lg flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:"Viewing Franchise (View-Only Mode)"})]}),(0,a.jsx)("button",{onClick:()=>{s({type:"auth/stopImpersonation"}),P.toast.success("Stopped impersonation"),t.push("/dashboard/franchises/manage")},className:"text-xs font-medium px-3 py-1 bg-orange-200 hover:bg-orange-300 rounded transition",children:"Exit View Mode"})]}),p?.franchise&&!c&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 px-4 py-2 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs font-medium",children:"Franchise"}),(0,a.jsx)("div",{className:"text-sm font-semibold",children:p.franchise.name})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors",children:(0,a.jsx)(i,{size:20})}),(0,a.jsxs)("div",{className:"relative pl-4 border-l border-border",children:[(0,a.jsxs)("button",{onClick:()=>r(!e),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",disabled:h,children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-semibold text-sm",children:h?"Loading...":p?.name||"User"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:p?.role||"Member"})]}),(0,a.jsxs)(j,{className:"w-10 h-10",children:[(0,a.jsx)(w,{src:p?.avatar}),(0,a.jsx)(R,{children:(p?.name||"User").split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]})]}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>r(!1)}),(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-20",children:[(0,a.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:p?.name||"User"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 truncate",children:p?.email||"No email"})]}),(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>{r(!1)},children:[(0,a.jsx)(o.User,{size:16}),"Profile"]}),(0,a.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>{r(!1)},children:[(0,a.jsx)(l,{size:16}),"Settings"]})]}),(0,a.jsx)("div",{className:"border-t border-gray-100 mt-1 pt-1",children:(0,a.jsxs)("button",{onClick:()=>{try{s((0,M.logout)()),P.toast.success("Logged out successfully"),t.push("/auth/login")}catch(e){console.error("Logout failed:",e),P.toast.error("Logout failed. Please try again.")}},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(n,{size:16}),"Logout"]})})]})]})]})]})]})}var V=e.i(4133),W=((r={}).SUPER_ADMIN="super_admin",r.FRANCHISE_ADMIN="franchise_admin",r.FRANCHISE_USER="franchise_user",r),H=((t={}).VIEW_ALL_FRANCHISES="view_all_franchises",t.MANAGE_FRANCHISES="manage_franchises",t.VIEW_OWN_FRANCHISE="view_own_franchise",t.VIEW_ALL_BILLING="view_all_billing",t.MANAGE_ALL_PRICING="manage_all_pricing",t.VIEW_OWN_BILLING="view_own_billing",t.MANAGE_OWN_BILLING="manage_own_billing",t.TOPUP_CREDITS="topup_credits",t.MANAGE_FRANCHISE_USERS="manage_franchise_users",t.VIEW_ALL_REPORTS="view_all_reports",t.VIEW_FRANCHISE_REPORTS="view_franchise_reports",t.VIEW_OWN_REPORTS="view_own_reports",t.VIEW_ALL_ACTIVITY="view_all_activity",t.VIEW_FRANCHISE_ACTIVITY="view_franchise_activity",t.MANAGE_ALL_API="manage_all_api",t.MANAGE_FRANCHISE_API="manage_franchise_api",t.IMPERSONATE_FRANCHISE="impersonate_franchise",t);W.SUPER_ADMIN,H.VIEW_ALL_FRANCHISES,H.MANAGE_FRANCHISES,H.VIEW_ALL_BILLING,H.MANAGE_ALL_PRICING,H.VIEW_ALL_REPORTS,H.VIEW_ALL_ACTIVITY,H.MANAGE_ALL_API,H.IMPERSONATE_FRANCHISE,H.TOPUP_CREDITS,H.MANAGE_FRANCHISE_USERS,W.FRANCHISE_ADMIN,H.VIEW_OWN_FRANCHISE,H.VIEW_OWN_BILLING,H.MANAGE_OWN_BILLING,H.TOPUP_CREDITS,H.MANAGE_FRANCHISE_USERS,H.VIEW_FRANCHISE_REPORTS,H.VIEW_FRANCHISE_ACTIVITY,H.MANAGE_FRANCHISE_API,W.FRANCHISE_USER,H.VIEW_OWN_REPORTS;let F=e=>e?.role===W.SUPER_ADMIN,O=e=>e?.role===W.FRANCHISE_ADMIN,U=e=>e?.role===W.FRANCHISE_USER,G=(e,r)=>{let t=e?F(e)?["/dashboard","/dashboard/franchises","/dashboard/franchises/manage","/dashboard/leads","/dashboard/billing","/dashboard/pricing","/dashboard/activity","/dashboard/reports","/dashboard/api","/dashboard/terms"]:O(e)?["/dashboard","/dashboard/billing","/dashboard/activity","/dashboard/reports","/dashboard/api"]:U(e)?["/dashboard","/dashboard/reports"]:["/dashboard"]:[];return!!t.includes(r)||t.some(e=>r.startsWith(e)&&r!==e)},z=(0,s.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var $=e.i(18076),D=e.i(73407),B=e.i(65754),q=e.i(21669);let Y=(0,s.default)("file-check",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);var Z=e.i(50754),K=e.i(49452),Q=e.i(29840);let J=(0,s.default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),X=[{href:"/dashboard",label:"Dashboard",icon:z,roles:["super_admin","franchise_admin","franchise_user"]},{href:"/dashboard/franchises",label:"Franchises",icon:$.Building2,roles:["super_admin"]},{href:"/dashboard/franchises/manage",label:"Manage Franchises",icon:Q.Users,roles:["super_admin"]},{href:"/dashboard/leads",label:"Leads",icon:J,roles:["super_admin"]},{href:"/dashboard/billing",label:"Billing",icon:Z.DollarSign,roles:["super_admin","franchise_admin"]},{href:"/dashboard/activity",label:"Activity",icon:K.Activity,roles:["super_admin","franchise_admin"]},{href:"/dashboard/reports",label:"Reports",icon:D.FileText,roles:["super_admin","franchise_admin","franchise_user"]},{href:"/dashboard/api",label:"API",icon:B.Zap,roles:["super_admin","franchise_admin"]},{href:"/dashboard/pricing",label:"Pricing & Packages",icon:q.Package,roles:["super_admin"]},{href:"/dashboard/terms",label:"Terms & Conditions",icon:Y,roles:["super_admin"]}];function ee(){let e=(0,k.usePathname)(),{user:r}=(0,L.useSelector)(e=>e.auth),t=X.filter(e=>!!r&&G(r,e.href));return(0,a.jsxs)("aside",{className:"w-56 bg-card border-r border-border flex flex-col h-screen",children:[(0,a.jsx)("div",{className:"p-6 border-b border-border",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center text-primary-foreground font-bold",children:"G"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-semibold",children:"GlobalVIN"}),r&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:r.role.replace("_"," ")})]})]})}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:t.map(r=>{let t=r.icon,s="/dashboard"===r.href?"/dashboard"===e:e.startsWith(r.href);return(0,a.jsxs)(V.default,{href:r.href,className:(0,I.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",s?"bg-[#764BA2] text-primary-foreground":"text-foreground hover:bg-muted"),children:[(0,a.jsx)(t,{size:20}),(0,a.jsx)("span",{className:"text-sm font-medium",children:r.label})]},r.href)})}),r&&r.franchise&&(0,a.jsxs)("div",{className:"p-4 border-t border-border",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Franchise"}),(0,a.jsx)("div",{className:"font-semibold text-sm",children:r.franchise.name}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:r.franchise.country})]})]})}function er({children:e,requireRole:r=!1}){let t=(0,k.useRouter)(),s=(0,k.usePathname)(),{token:i,user:n,isAuthenticated:l}=(0,L.useSelector)(e=>e.auth);return((0,d.useEffect)(()=>{if(!i||!l){P.toast.error("Please login to access this page"),t.push(`/auth/login?redirect=${s}`);return}if(r&&n&&!G(n,s)){let e=n?F(n)?"/dashboard/franchises/manage":O(n)?"/dashboard":U(n)?"/dashboard/reports":"/dashboard":"/auth/login";P.toast.error("You do not have permission to access this page"),t.push(e)}},[i,l,n,s,t,r]),i&&l&&(!r||!n||G(n,s)))?(0,a.jsx)(a.Fragment,{children:e}):null}function et({children:e}){return(0,a.jsx)(er,{requireRole:!0,children:(0,a.jsxs)("div",{className:"flex h-screen",children:[(0,a.jsx)(ee,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)(T,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto bg-background",children:e})]})]})})}e.s(["default",()=>et],27902)}]);